/* =========================
  共通トークン
========================= */
:root {
    --card-radius: 12px;
    --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    --muted: #6b7280;
    --danger: #ef4444;
    --border: #e5e7eb;
    --border-hover: #d1d5db;
    --bg-soft: #f3f4f6;
}

/* =========================
  Profile 共通
========================= */
.profile {
    margin: 0 auto;
}

/* プロフィールヘッダー */
.profile__header {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center; /* ← 中央に配置 */
    gap: 40px;
    padding: 20px;
}

.profile__image {
    display: flex;
    justify-content: center;
    margin-bottom: 10px;
}

.profile__image img {
    top: 8px;
    width: 150px;
    height: 150px;
    border-radius: 50%;
    object-fit: cover;
    border: 1px solid #ddd;
}

/* ユーザー情報 */
.profile__info {
    align-items: center;
    margin: 0 15px;
}

.profile__info h2 {
    width: 100%;
    height: auto;
    font-size: 36px;
    font-weight: 700;
    line-height: 65px;
    color: #000;
}

.stars {
    display: inline-flex;
    gap: 2px;
    vertical-align: middle;
}

.stars img {
    width: 20px;
    height: 20px;
    display: inline-block;
    object-fit: contain;
}

/* 編集ボタン */
.profile__edit {
    margin: 0 15px;
    display: flex;
    justify-content: center;
}
.profile__edit .btn {
    text-align: center;
    width: 310px;
    height: 59px;
    padding: 10px 20px;
    border-radius: 10px;
    font-size: 26px;
    font-weight: 700;
    text-decoration: none;
    border: 2px solid #ff5555;
    color: #ff5555;
    background-color: #fff;
    transition: background-color 0.3s, color 0.3s;
    margin: 0 15px;
}
.profile__edit .btn:hover {
    background-color: red;
    color: #fff;
}

/* =========================
  Tabs（ラジオ切替）
========================= */
.profile__tabs {
    position: absolute;
    top: 385px;
    height: 47px;
    width: 100%;
    font-size: 24px;
    font-weight: 700;
    color: #5f5f5f;
    border-bottom: 2px solid #5f5f5f;

    display: flex;
    flex-wrap: wrap;
    gap: 8px 12px;
    align-items: center;
}

.profile__tab-label {
    padding: 10px 20px;
    cursor: pointer;
    transition: background-color 0.3s;
}

/* ラジオ本体を非表示 */
.profile__tab-input[type="radio"] {
    display: none;
}

/* 選択タブの装飾 */
.profile__tab-input[type="radio"]:checked + label {
    color: red;
    font-weight: bold;
}

/* 「取引中へ」リンク調整 */
.profile__tab-label.profile__tab-link {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 12px;
    border-radius: 6px;
    text-decoration: none;
    cursor: pointer;
}
.profile__tab-label.profile__tab-link:hover {
    background: rgba(0, 0, 0, 0.05);
}

/* 未読合計バッジ */
.profile__tabs .badge {
    display: inline-block;
    min-width: 1.6em;
    padding: 2px 6px;
    font-size: 12px;
    line-height: 1.6;
    text-align: center;
    border-radius: 999px;
    background: #ff0000;
    color: #fff;
    vertical-align: middle;
}

/* タブの中身（パネル） */
.profile__tabs-content {
    position: absolute;
    top: 106px;
    width: 100%;
    height: 716.61px;
}

/* まず全パネル非表示 */
.profile__tab-panel {
    display: none;
}

/* チェックされたパネルのみ表示（3つとも必須） */
#tab-listed:checked ~ .profile__tabs-content #tab-listed-content {
    display: block;
}
#tab-purchased:checked ~ .profile__tabs-content #tab-purchased-content {
    display: block;
}
#tab-inprogress:checked ~ .profile__tabs-content #tab-inprogress-content {
    display: block;
}

/* =========================
  出品/購入のカードグリッド
========================= */
.profile__items {
    position: relative;
    width: 100%;
    max-width: 1374.52px;
    display: grid;
    grid-template-columns: repeat(4, 290px);
    grid-auto-rows: 320px;
    column-gap: 71.5px;
    row-gap: 50px;
    margin: 0 auto;
    padding-left: 40px;
}
.profile__item {
    position: relative;
    width: 290px;
    height: 320px;
    background: #fff;
    text-align: center;
    transition: transform 0.2s, box-shadow 0.2s;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    overflow: hidden;
}
.profile__item-image {
    position: relative;
    display: block;
    width: 100%;
    height: auto;
}
.profile__item img {
    width: 100%;
    height: auto;
    max-height: 85.2%;
    object-fit: contain;
    border-radius: 4px;
}
.profile__item h3 {
    font-size: 25px;
    font-weight: 400;
    margin: 0;
    color: #000;
    height: 30px;
    display: flex;
    align-items: center;
}
.profile__item a {
    display: inline-block;
    color: #007bff;
    text-decoration: none;
}
.profile__item-sold {
    position: absolute;
    top: 0;
    left: 0;
    color: #fff;
    font-size: 25px;
    font-weight: bold;
    background: red;
    padding: 5px 15px;
    border-radius: 4px;
    z-index: 10;
}

/* =========================
  Responsive
========================= */
/* =========== ① 1540px〜1400px：少しずつ縮める =========== */
@media (max-width: 1540px) {
    .profile__items {
        column-gap: 50px;
    }
    .profile__tabs {
        width: 100%;
    }
}

@media (max-width: 1400px) {
    .profile__items {
        grid-template-columns: repeat(3, 1fr);
        column-gap: 40px;
        padding-left: 20px;
    }
    .profile__tabs-content {
        margin: 0 20px;
    }
    .profile__edit .btn {
        width: 100%;
        max-width: 260px;
        font-size: 20px;
    }
}
/* ② 1024px以下：タブの absolute を解除（ヘッダーが切れる原因を解消） */
@media (max-width: 1024px) {
    .profile__header {
        width: 100%;
        justify-content: center;
        text-align: center;
        gap: 30px;
        padding: 12px 0;
    }

    .profile__info {
        display: flex;
        flex-direction: column;
        align-items: flex-start; /* ← これが重要 */
        gap: 4px; /* ユーザー名と星の間隔も調整可 */
    }

    .profile__edit {
        display: flex;
        flex-grow: unset;
    }

    .profile__edit .btn {
        font-size: 18px;
        padding: 10px;
    }

    .profile__tabs {
        position: relative;
        top: auto;
        width: 100%;
        border-bottom: 2px solid #5f5f5f;
    }
    .profile__tabs-content {
        position: static; /* ← absolute をやめる */
        height: auto; /* ← 固定値解除 */
        margin: 12px 0 0;
    }

    /* 商品グリッドは2列に、左パディングを外して中央寄せ */
    .profile__items {
        grid-template-columns: repeat(2, 1fr);
        column-gap: 20px;
        row-gap: 20px;
        padding-left: 0;
        justify-items: center;
    }
}

@media (max-width: 768px) {
    .profile {
        padding: 0 12px;
    }

    .profile__header {
        width: 100%;
        justify-content: center;
        text-align: center;
        gap: 20px;
        padding: 12px 0;
    }

    .profile__image img {
        width: 88px;
        height: 88px;
    }

    .profile__info h2 {
        font-size: 20px;
        margin-left: 0;
        text-align: left;
    }

    .profile__edit .btn {
        width: 100%;
        max-width: 260px;
        font-size: 18px;
    }

    .profile__items {
        grid-auto-rows: auto;
        row-gap: 16px;
        padding: 0;
    }

    .profile__item {
        width: 100%;
        max-width: 480px;
        margin: 0 auto;
    }

    .profile__item img {
        width: 100%;
        height: clamp(180px, 45vw, 280px);
        object-fit: contain;
    }

    .profile__item-image {
        margin-bottom: 8px;
    }

    .profile__item h3 {
        margin: 8px 0 0;
        display: block;
    }

    .profile__item-sold {
        margin-left: 40px;
    }
}

@media (max-width: 450px) {
    .profile {
        padding: 0 8px;
    }

    /* ヘッダー：画像 / 情報 を2列、編集ボタンは次の行で全幅 */
    .profile__header {
        position: static; /* leftの影響を断つ */
        left: 0;
        display: grid;
        grid-template-columns: 56px 1fr; /* アイコン / 情報 */
        align-items: center;
        gap: 8px;
        padding: 8px 0;
        width: 100%;
    }
    .profile__image img {
        width: 56px;
        height: 56px;
        border-radius: 50%;
        object-fit: cover;
    }
    .profile__info {
        display: grid;
        gap: 6px;
    }
    .profile__info h2 {
        margin: 0;
        font-size: 18px;
        text-align: left;
    }

    /* 星の大きさを固定して崩れ防止 */
    .stars img {
        width: 16px;
        height: 16px;
        display: inline-block;
    }

    /* 編集ボタンは全幅で次の行 */
    .profile__edit {
        grid-column: 1 / -1; /* 次の行に展開 */
        display: flex;
        justify-content: flex-end; /* 右寄せ */
    }
    .profile__edit .btn {
        width: auto; /* 100% は外すこと */
        margin-left: 0;
        max-width: 200px;
        height: 44px;
        font-size: 16px;
        padding: 5px 12px;
        white-space: nowrap;
    }

    /* タブははみ出し防止＋タップしやすく */
    .profile__tabs {
        position: relative;
        top: auto;
        width: 100%;
        border-bottom: 1px solid #ddd;
        padding-bottom: 4px;
    }

    .profile__tabs-content {
        position: static;
        width: 100%;
        height: auto;
        margin-top: 12px;
    }

    .profile__tab-label {
        font-size: 14px;
        padding: 8px 10px;
    }

    /* 商品カード：1列＆画像→タイトル縦並び */
    .profile__items {
        display: grid !important;
        grid-template-columns: 1fr;
        justify-items: center;
        gap: 12px;
    }
    .profile__item a {
        display: block;
    }
    /* 画像下の微隙間対策 */
    .profile__item-image {
        display: block;
        margin-bottom: 6px;
    }

    .profile__item {
        width: 100%;
        max-width: 350px;
        margin: 0;
    }

    .profile__item img {
        width: 80%;
        height: auto; /* ← 80%の高さは外す。縦横比が崩れます */
        display: block;
        margin-inline: auto; /* ← 水平中央寄せの決め手 */
        object-fit: contain; /* coverにしたいなら contain→cover */
        object-position: center;
    }
    .profile__item h3 {
        display: block;
        margin: 6px 0 0;
        font-size: 16px;
        line-height: 1.4;
    }
}
